{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  description: 'Renovate config for LavaMoat monorepo',
  extends: [
    'config:js-app', // everything gets pinned except peer deps (plus a bunch of other reasonable defaults)
    'group:definitelyTyped', // groups all `@types/*` packages together
    'helpers:pinGitHubActionDigests', // pins SHAs of GitHub actions
    ':enableVulnerabilityAlerts', // enables GitHub vulnerability alerts
    ':semanticCommits', // use semantic commits
    'group:linters', // group lint-related packages together
  ],
  packageRules: [
    {
      // as long as we use CJS, everything owned by @sindresorhus should be in this list
      matchPackageNames: [
        // Missing support for LavaMoat supported major Node.js version(s)
        'copy-webpack-plugin',
        'espree',

        // ESM-only packages
        '@types/wrap-ansi',
        'chalk',
        'conf',
        'del',
        'delay',
        'env-paths',
        'execa',
        'figures',
        'find-up',
        'get-port',
        'get-stream',
        'globby',
        'got',
        'inquirer',
        'log-symbols',
        'open',
        'ora',
        'p-ify',
        'p-limit',
        'p-retry',
        'pkg-dir',
        'read-pkg',
        'strip-ansi',
        'supports-color',
        'term-size',
        'terminal-link',
        'vinyl-paths',
        'wrap-ansi',
        'write-pkg',
      ],
      matchUpdateTypes: ['major'],
      enabled: false,
    },
    {
      // Disable frequent updates for dev tooling
      // These can be updated manually but we still want to be notified about new majors
      matchPackageNames: [
        'commitlint',
        'husky',
        'lint-staged',
        'linters',
      ],
      matchUpdateTypes: ['minor', 'patch'],
      enabled: false,
    },
    {
      // @types/node should be bumped to major only alongside `engines.node` in package.json
      // We don't care about every patch release so only notify onnew minors
      matchPackageNames: [
        '@types/node',
      ],
      matchUpdateTypes: ['major', 'patch'],
      enabled: false,
    }
  ],
  transitiveRemediation: true,
}
