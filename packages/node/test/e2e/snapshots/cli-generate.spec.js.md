# Snapshot report for `test/e2e/cli-generate.spec.js`

The actual snapshot is saved in `cli-generate.spec.js.snap`.

Generated by [AVA](https://avajs.dev).

## "generate --help" prints help

> output of command "lavamoat generate --help" does not match expected snapshot

    {
      code: undefined,
      trimmedStderr: '',
      trimmedStdout: `lavamoat generate <entrypoint>␊
      ␊
      Generate a policy␊
      ␊
      Path Options:␊
        -p, --policy           Filepath to a policy file␊
                                       [string] [default: "lavamoat/node/policy.json"]␊
        -o, --policy-override  Filepath to a policy override file␊
                                [string] [default: lavamoat/node/policy-override.json]␊
            --policy-debug     Filepath to a policy debug file␊
                                   [string] [default: lavamoat/node/policy-debug.json]␊
            --root             Path to application root directory␊
                                               [string] [default: (current directory)]␊
      ␊
      Behavior Options:␊
        -b, --bin    Resolve entrypoint as a bin script                      [boolean]␊
            --dev    Include development dependencies                        [boolean]␊
            --debug  Additionally write a debug policy                       [boolean]␊
            --write  Write policy file(s) to disk; if false, print to stdout␊
                                                             [boolean] [default: true]␊
      ␊
      Positionals:␊
        entrypoint  Application entry point                        [string] [required]␊
      ␊
      Logging Options:␊
            --verbose  Enable verbose logging                                [boolean]␊
            --quiet    Disable all logging                                   [boolean]␊
      ␊
      Options:␊
            --help     Show help                                             [boolean]␊
            --version  Show version number                                   [boolean]`,
    }

## canonical names are used in policy

> Snapshot 1

    {
      resources: {
        'another-pkg': {
          globals: {
            'console.log': true,
          },
          packages: {
            'another-pkg>shared-pkg': true,
          },
        },
        'another-pkg>shared-pkg': {
          globals: {
            'console.log': true,
          },
        },
        'shared-pkg': {
          globals: {
            'console.log': true,
          },
        },
      },
    }
