# Snapshot report for `test/e2e/cli.spec.js`

The actual snapshot is saved in `cli.spec.js.snap`.

Generated by [AVA](https://avajs.dev).

## "--help" prints help

> output of command "node ../../../src/cli.js --help" does not match expected snapshot

    {
      code: undefined,
      trimmedStderr: '',
      trimmedStdout: `lavamoat <entrypoint>‚êä
      ‚êä
      Run a Node.js application safely‚êä
      ‚êä
      Commands:‚êä
        lavamoat run <entrypoint>       Run a Node.js application safely     [default]‚êä
        lavamoat generate <entrypoint>  Generate a policy               [aliases: gen]‚êä
      ‚êä
      Path Options:‚êä
        -p, --policy           Filepath to a policy file‚êä
                                       [string] [default: "lavamoat/node/policy.json"]‚êä
        -o, --policy-override  Filepath to a policy override file‚êä
                              [string] [default: "lavamoat/node/policy-override.json"]‚êä
            --policy-debug     Filepath to a policy debug file‚êä
                                 [string] [default: "lavamoat/node/policy-debug.json"]‚êä
            --root             Path to application root directory‚êä
                                               [string] [default: (current directory)]‚êä
      ‚êä
      Behavior Options:‚êä
            --dev  Include development dependencies                          [boolean]‚êä
      ‚êä
      Positionals:‚êä
        entrypoint  Path to the application entry point; relative to --root   [string]‚êä
      ‚êä
      Options:‚êä
            --help     Show help                                             [boolean]‚êä
            --version  Show version number                                   [boolean]‚êä
      ‚êä
      Resources:‚êä
      ‚êä
        üåã LavaMoat on GitHub (‚Äãhttps://github.com/LavaMoat/LavaMoat‚Äã)‚êä
        üêõ Bugs? Issue tracker (‚Äãhttps://github.com/LavaMoat/LavaMoat/issues‚Äã)‚êä
        üìñ Read the LavaMoat docs (‚Äãhttps://lavamoat.github.io‚Äã)`,
    }

## run - "run --help" prints help

> output of command "node ../../../src/cli.js run --help" does not match expected snapshot

    {
      code: undefined,
      trimmedStderr: '',
      trimmedStdout: `lavamoat run <entrypoint>‚êä
      ‚êä
      Run a Node.js application safely‚êä
      ‚êä
      Positionals:‚êä
        entrypoint  Path to the application entry point; relative to --root‚êä
                                                                   [string] [required]‚êä
      ‚êä
      Behavior Options:‚êä
            --dev  Include development dependencies                          [boolean]‚êä
      ‚êä
      Path Options:‚êä
        -p, --policy           Filepath to a policy file‚êä
                                       [string] [default: "lavamoat/node/policy.json"]‚êä
        -o, --policy-override  Filepath to a policy override file‚êä
                              [string] [default: "lavamoat/node/policy-override.json"]‚êä
            --policy-debug     Filepath to a policy debug file‚êä
                                 [string] [default: "lavamoat/node/policy-debug.json"]‚êä
            --root             Path to application root directory‚êä
                                               [string] [default: (current directory)]‚êä
      ‚êä
      Options:‚êä
            --help     Show help                                             [boolean]‚êä
            --version  Show version number                                   [boolean]`,
    }

## generate - "generate --help" prints help

> output of command "node ../../../src/cli.js generate --help" does not match expected snapshot

    {
      code: undefined,
      trimmedStderr: '',
      trimmedStdout: `lavamoat generate <entrypoint>‚êä
      ‚êä
      Generate a policy‚êä
      ‚êä
      Behavior Options:‚êä
            --dev    Include development dependencies                        [boolean]‚êä
            --debug  Additionally write a debug policy                       [boolean]‚êä
            --write  Write policy file(s) to disk; if false, print to stdout‚êä
                                                             [boolean] [default: true]‚êä
      ‚êä
      Positionals:‚êä
        entrypoint  Path to the application entry point            [string] [required]‚êä
      ‚êä
      Path Options:‚êä
        -p, --policy           Filepath to a policy file‚êä
                                       [string] [default: "lavamoat/node/policy.json"]‚êä
        -o, --policy-override  Filepath to a policy override file‚êä
                              [string] [default: "lavamoat/node/policy-override.json"]‚êä
            --policy-debug     Filepath to a policy debug file‚êä
                                 [string] [default: "lavamoat/node/policy-debug.json"]‚êä
            --root             Path to application root directory‚êä
                                               [string] [default: (current directory)]‚êä
      ‚êä
      Options:‚êä
            --help     Show help                                             [boolean]‚êä
            --version  Show version number                                   [boolean]`,
    }

## generate - basic policy generation

> Snapshot 1

    {
      resources: {},
    }

## generate - policy generation - canonical names

> Snapshot 1

    {
      resources: {
        'another-pkg': {
          globals: {
            'console.log': true,
          },
          packages: {
            'another-pkg>shared-pkg': true,
          },
        },
        'another-pkg>shared-pkg': {
          globals: {
            'console.log': true,
          },
        },
        'shared-pkg': {
          globals: {
            'console.log': true,
          },
        },
      },
    }
